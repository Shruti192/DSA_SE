b"\nRead problem statements in Hindi, Bengali, Mandarin Chinese, Russian, and Vietnamese as well.\nYou are given NN sets of integers A1,A2,\xe2\x80\xa6,ANA1,A2,\xe2\x80\xa6,AN. For each valid ii, let's denote the elements of the set AiAi by {ci,1,ci,2,\xe2\x80\xa6,ci,|Ai|}{ci,1,ci,2,\xe2\x80\xa6,ci,|Ai|}.\nFind the number of ways to choose a sequence (a1,a2,\xe2\x80\xa6,aN)(a1,a2,\xe2\x80\xa6,aN) such that:\n\nai\xe2\x88\x88Aiai\xe2\x88\x88Ai for each valid ii\nai\xe2\x89\xa0ai+1ai\xe2\x89\xa0ai+1 for each valid ii and a1\xe2\x89\xa0aNa1\xe2\x89\xa0aN\n\nSince this number may be large, compute it modulo 998,244,353998,244,353.\nInput\n\nThe first line of the input contains a single integer NN.\nNN lines follow. For each valid ii, the ii-th of these lines contains an integer |Ai||Ai| followed by a space and |Ai||Ai| space-separated non-negative integers ci,1,ci,2,\xe2\x80\xa6,ci,|Ai|ci,1,ci,2,\xe2\x80\xa6,ci,|Ai|.\n\nOutput\nPrint a single line containing one integer \xe2\x80\x95 the number of ways to choose (a1,a2,\xe2\x80\xa6,aN)(a1,a2,\xe2\x80\xa6,aN), modulo 998,244,353998,244,353.\nConstraints\n\n2\xe2\x89\xa4N\xe2\x89\xa4200,0002\xe2\x89\xa4N\xe2\x89\xa4200,000\n|Ai|\xe2\x89\xa51|Ai|\xe2\x89\xa51 for each valid ii\n|A1|+|A2|+\xe2\x80\xa6+|AN|\xe2\x89\xa4200,000|A1|+|A2|+\xe2\x80\xa6+|AN|\xe2\x89\xa4200,000\n1\xe2\x89\xa4ci,j\xe2\x89\xa42000001\xe2\x89\xa4ci,j\xe2\x89\xa4200000 for each valid i,ji,j\n\nSubtasks\nSubtask #1 (20 points): N\xe2\x89\xa4100N\xe2\x89\xa4100\nSubtask #2 (80 points): original constraints\n\n                        Sample Input 1\n                        \n\n\n\n\n\n3\n3 1 2 3\n2 1 2\n2 2 3\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n3\n\n\nExplanation\nThere are three possible sequences: (1,2,3)(1,2,3), (2,1,3)(2,1,3) and (3,1,2)(3,1,2).\n\n\n\nAuthor:\nildar_adm\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/CIRCOLOR\n\n\nTags:\n\n               \n                 Square Root Decomposition, Dynamic Programming\n                 \n                     \n                     Advanced Algorithms, Algorithms\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n3104\n\n\nDate Added:\n27-11-2020\n\n\nTime Limit:\n1 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, R, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, PRLG, SQLQ, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"