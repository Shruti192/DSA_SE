b"\nRead problem statements in Mandarin Chinese, Russian, and Vietnamese as well.\nYou're given an array AA with NN integers. \nDefine F(A,i,j)=(A[j]\xe2\x88\x92A[i])\xe2\x8b\x85(j\xe2\x88\x92i)F(A,i,j)=(A[j]\xe2\x88\x92A[i])\xe2\x8b\x85(j\xe2\x88\x92i).\nConsider the set PP of all pairs (i,j)(i,j) such that 1\xe2\x89\xa4i<j\xe2\x89\xa4N1\xe2\x89\xa4i<j\xe2\x89\xa4N. For a subset SS of PP, we define beauty(S,A)beauty(S,A) as the sum of F(A,i,j)F(A,i,j) over all pairs (i,j)(i,j) contained in SS. We also define V(A)V(A) as the maximum value of beauty(S,A)beauty(S,A) over all subsets SS of PP.\nYou also have a machine that takes a copy of the initial array AA as an input and performs KK pre-defined operations on it in a fixed order. In each operation, it takes two indices, XiXi and YiYi, and swaps the elements present at those positions in the array at that moment in time. After that, it outputs the final array. You know what these operations are and the order in which they are performed.\nHowever, the machine is a bit lazy. It may skip some operations. But the order of operations does not change. In other words, it chooses a subsequence (possibly empty) of the operations and performs them in that order.\nFind the sum of V(P)V(P) over all possible outputs PP of the machine (modulo 109+7109+7).\nIn other words, consider the multiset RR of the arrays we get as an output after the machine takes input as AA and performs one of the subsequences (possibly empty) of the pre-defined operations. Note that there can be multiple occurrences of the same array in this multiset. Find the value \xe2\x88\x91P\xe2\x88\x88RV(P)\xe2\x88\x91P\xe2\x88\x88RV(P).\nOutput the remainder of this value when divided by 109+7109+7.\nInput Format\n\nThe first line contains one integer TT \xe2\x80\x94 the number of test cases. Then TT test cases follow. \nFor each test case, the first line contains integers NN and KK, the length of array AA and the number of predefined operations respectively. \nThe second line contains NN integers A[1],A[2],\xe2\x80\xa6A[N]A[1],A[2],\xe2\x80\xa6A[N].\nThen KK lines follow. The ii-th of these lines contains integers XiXi and YiYi, the indices to be swapped in the ii-th operation.\n\nOutput Format\nFor each test case, output the answer to the problem modulo 109+7109+7 on a separate line.\nConstraints\n\n1\xe2\x89\xa4T\xe2\x89\xa41031\xe2\x89\xa4T\xe2\x89\xa4103\n2\xe2\x89\xa4N\xe2\x89\xa44\xe2\x8b\x851032\xe2\x89\xa4N\xe2\x89\xa44\xe2\x8b\x85103\n1\xe2\x89\xa4K\xe2\x89\xa44\xe2\x8b\x851031\xe2\x89\xa4K\xe2\x89\xa44\xe2\x8b\x85103\n\xe2\x88\x92109\xe2\x89\xa4A[i]\xe2\x89\xa4109\xe2\x88\x92109\xe2\x89\xa4A[i]\xe2\x89\xa4109\n1\xe2\x89\xa4Xi<Yi\xe2\x89\xa4N1\xe2\x89\xa4Xi<Yi\xe2\x89\xa4N\nSum of NN over all test cases is at most 4\xe2\x8b\x851034\xe2\x8b\x85103.\nSum of KK over all test cases is at most 4\xe2\x8b\x851034\xe2\x8b\x85103.\n\n\n                        Sample Input 1\n                        \n\n\n\n\n\n1\n3 2\n1 2 3\n1 2\n2 3\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n15\n\n\nExplanation\nThere are 4 ways to select a subsequence from the given list of 2 operations:\n\nPerform both operations 1 and 2: After swapping values at indices 1 and 2, the array becomes [2,1,3][2,1,3]. Then, after swapping values at indices 2 and 3, the array finally becomes [2,3,1][2,3,1]. One of the ways to get the greatest beauty in this array is by by choosing S={(1,2)}S={(1,2)}, ending up with V(A)=F(A,1,2)=(A[2]\xe2\x88\x92A[1])\xe2\x8b\x85(2\xe2\x88\x921)=(3\xe2\x88\x922)\xe2\x8b\x85(2\xe2\x88\x921)=1V(A)=F(A,1,2)=(A[2]\xe2\x88\x92A[1])\xe2\x8b\x85(2\xe2\x88\x921)=(3\xe2\x88\x922)\xe2\x8b\x85(2\xe2\x88\x921)=1\nPerform only operation 1: After swapping values at indices 1 and 2, the array becomes [2,1,3][2,1,3]. For this final array, V(A)=4V(A)=4.\nPerform only operation 2: After swapping values at indices 2 and 3, the array becomes [1,3,2][1,3,2]. For this final array, V(A)=4V(A)=4.\nPerform no operations: The array AA remains [1,2,3][1,2,3]. Here, V(A)=6V(A)=6.\n\nHence, our final answer is (1+4+4+6)(1+4+4+6), which leaves a remainder 1515 when divided by 109+7109+7.\n\n\n\nAuthor:\n6\xe2\x98\x85shivensinha4\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/LAZYMACHINE\n\n\nTags:\n\n               \n                 Dynamic Programming\n                 \n                     \n                     Algorithms\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\nN/A\n\n\nDate Added:\n18-10-2021\n\n\nTime Limit:\n2 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, R, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, PRLG, SQLQ, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"