b'\nYou are given a tree. Each node of the tree is assigned a distinct value.\nA path in the tree is considered weird if the values in the path increase and decrease alternatively.\nFor example: Consider a straight chain of nodes 1\xe2\x86\x923\xe2\x86\x922\xe2\x86\x924\xe2\x86\x925 with value assigned to any node i being i itself. Then the path 3\xe2\x86\x922\xe2\x86\x924, 1\xe2\x86\x923\xe2\x86\x922, etc. are weird whereas 1\xe2\x86\x923\xe2\x86\x922\xe2\x86\x924\xe2\x86\x925 is not weird because 2\xe2\x86\x924 and 4\xe2\x86\x925 are both increasing.\nYou are given Q queries. Each query contains the root of the tree, R, and an arbitrary node, S. For each query, you need to find the sum of all weird paths in the subtree rooted at S with respect to R being the root of the original tree. Sum of a path is defined as the sum of values assigned to all nodes on that path. As this sum could be very large, output it modulo M.\nNote:\n\nPaths of length 2 are always considered weird.\nA path is always defined for more than 1 node.\n\nInput\nThe first line of input contains 2 integers, N and M.\nSecond line contains N space separated numbers where the ith number denotes the value of the ith node. These N numbers are permutation of the sequence of numbers from 1 to N.\nFor the next N-1 line, each line contains 2 numbers a and b, denoting that node a is connected to node b.\nNext line contains a single integer Q, the number of queries to follow.\nLastly, Q lines follow, where each line contains two space separated integers, R and S.\nOutput\nFor each query, output the sum modulo M.\nConstraints\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 105\n1 \xe2\x89\xa4 M \xe2\x89\xa4 105\n1 \xe2\x89\xa4 R \xe2\x89\xa4 N\n1 \xe2\x89\xa4 S \xe2\x89\xa4 N\n1 \xe2\x89\xa4 Q \xe2\x89\xa4 105\n\nExample\nInput:\n6 100000\n1 2 3 4 5 6\n1 2\n2 5\n1 4\n3 4\n1 6\n5\n3 1\n5 2\n1 6\n2 4\n5 1\n\nOutput:\n26\n81\n0\n7\n52\n\n\nExplanation\nQuery 1: Nodes in the subtree 1 are [1,2,5,6]. Valid Paths are 5\xe2\x86\x922 , 2\xe2\x86\x921, 1\xe2\x86\x926, 2\xe2\x86\x921\xe2\x86\x926 . Corresponding sums are 7, 3, 7, and 9. Total sum is 26.\nNote:\n\nA Path lies in a subtree if all nodes on the path are in the subtree.\n\n\n\n\nAuthor:\n4\xe2\x98\x85devuy11\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/KOL15E\n\n\nTags:\n\n               \n                 acmkol15, devuy11, dynamic-programming, medium-hard, rooted-trees, treeroot\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\nN/A\n\n\nDate Added:\n14-10-2015\n\n\nTime Limit:\n2 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nJAVA, C, CPP14, PYP3\n\n\n\n\n\nSubmit\n\n'